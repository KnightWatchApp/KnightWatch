<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Status</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <link rel="stylesheet" href="knightWatchMainCSS3.css?">
  <link rel="stylesheet" href="style2.css?">
  <script src="script.js"></script>
  <link href='http://fonts.googleapis.com/css?family=PT+Sans+Caption:400,700' rel='stylesheet' type='text/css'>
  <!--<script src="knightWatchMainJS2.js"></script>-->

</head>

<body>
  <div id="header">
    <!--  <div>
    <button id="menuButton">Menu</button>
      </div> -->
    Request Status
  </div>
   <!-- <div id="header2">
    <button id="menuButton">Menu</button>
      </div>
  <div class="wrapper">
  <div id="menuItem">
    <ul>
      <a href="knightWatchMainPage3.html">Request Escort</a><br>
      <a href="knightWatchStatusPage.html">Existing Requests</a><br>
      <a href="knightWatchLogIn.html">Log Out</a>
    </ul>
    <button id="menuClose">Close</button>
  </div> -->
    <input type="checkbox" id="slide" name="" value="" />
  <div class="container">
    <label for="slide" class="toggle">â˜°</label>
    <nav class="sidebar"> 
      <ul>
        <li><a href="knightWatchMainPage3.html">Request Escort </a></li>
        <li><a href="knightWatchStatusPage.html">Existing Requests</a></li>
        <li><a href="knightWatchLogIn.html">Log Out</a></li>
      </ul>
    </nav>
  </div>
  <!-- <body> -->

    <div id="header2">
      </div>
  <div class="wrapper">
      <div id="pendingTable">
      <table id="myTableData"  border="1" cellpadding="2">
    <tr>
        <td><b>Name</b></td>
        <td><b>Walk/Ride</b></td>
        <td><b>Pickup Time</b></td>
        <td><b>Pickup Location</b></td>
        <td><b>Drop off Location</b></td>
        <td><b>Number of People</b></td>
       <!-- <td><b>Accept/Deny</b></td> -->
    </tr>
</table>
</div>
</div>
<script>

var table = document.getElementById("myTableData");

//To dynamically add rows, pull in the number of pending requests and in for loop do these steps replacing insertRow # accordingly
var neededData; 
$.getJSON('http://localhost/KnightWatch-master/status.php', function(jsonData) {
    neededData = jsonData; 
    //var row = table.insertRow(rowCount);
var rowCount = Object.keys(neededData).length;
for(var i = 1; i <= rowCount; i++){
  var row = table.insertRow(1);

// Insert new cells (<td> elements) at the 1st and 2nd position of the "new" <tr> element:
//this can be left as is when making dynamic
var cell1 = row.insertCell(0);
var cell2 = row.insertCell(1);
var cell3 = row.insertCell(2);
var cell4 = row.insertCell(3);
var cell5 = row.insertCell(4);
var cell6 = row.insertCell(5);
//var cell7 = row.insertCell(6);


// Add some text to the new cells:
//Use items stored in database instead when making dynamic
cell1.innerHTML = neededData[i-1]["Username"];
cell2.innerHTML = neededData[i-1]["Service_Type"];
cell3.innerHTML = neededData[i-1]["Time_of_Pickup"];
cell4.innerHTML = neededData[i-1]["Pickup_Location"];
cell5.innerHTML = neededData[i-1]["Drop_Off_Location"];
cell6.innerHTML = neededData[i-1]["Number_of_People"];

//this can be left as is when making dynamic
//var button_A = document.createElement("input");
//button_A.setAttribute("value","Accept");
//button_A.setAttribute("type","button");
//var button_B = document.createElement("input");
//button_B.setAttribute("value","Deny");
//button_B.setAttribute("type","button");
//cell7.appendChild(button_A);
//cell7.appendChild(document.createElement('br'));
//cell7.appendChild(button_B);
}

}); 
</script>
<!--
 This is our old stuff
      Start form 
      <div id="form">
      <form id="select">
        Type of service requested: <br> 
      	<p>Type goes Here</p>
        Time for pickup: <br>
        <p>Time goes here</p>
          Pickup Location: <br>
          <p>Pickup location goes here</p>
          Drop Off Location: <br>
          <p>Drop off location goes here</p>
      Number of People: <br>
      <p>Number of people goes here</p>

      <div class="checkout-wrap">
  <ul class="checkout-bar">

    <li class="first visited">
      <a href="#">Request Sent</a>
    </li>
    
    <li class="previous visited">Request Approved</li>
    
    <li class="previous visited">Escort In Transit</li>
    
    <li class="active">User Picked Up</li>
    
    <li class="">Complete</li>
       
  </ul>
</div>


    </form>
    end form
</div>
-->

<script type="text/javascript">
  document.getElementById("menuButton").onclick = function(){
    document.getElementById("menuItem").classList.add('leftSlide');
  }

  document.getElementById("menuClose").onclick = function(){
    document.getElementById("menuItem").classList.remove("leftSlide");
  }
</script>
</body>
</html>